<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This crate provides handlers for common http api behavior."><title>trillium_api - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-deb46770fd761b69.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="trillium_api" data-themes="" data-resource-suffix="" data-rustdoc-version="1.75.0-nightly (1c05d50c8 2023-10-21)" data-channel="nightly" data-search-js="search-8fbf244ebcf71464.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-5f34af1a0ee6bacd.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../trillium_api/index.html">trillium_api</a><span class="version">0.2.0-rc.4</span></h2></div><div class="sidebar-elems"><ul class="block">
            <li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#macros">Macros</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">trillium_api</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/trillium_api/lib.rs.html#1-59">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>This crate provides handlers for common http api behavior.</p>
<p>Eventually, some of this crate may move into the trillium crate, but
for now it exists separately for ease of iteration. Expect more
breaking changes in this crate then in the trillium crate.</p>
<h3 id="formats-supported"><a href="#formats-supported">Formats supported:</a></h3>
<p>Currently, this crate supports <em>receiving</em> <code>application/json</code> and
<code>application/x-form-www-urlencoded</code> by default. To disable
<code>application/x-form-www-urlencoded</code> support, use <code>default-features = false</code>.</p>
<p>This crate currently only supports sending json responses, but may
eventually add <code>Accepts</code> negotiation and further outbound response
content types.</p>
<p>The <a href="trait.ApiConnExt.html" title="trait trillium_api::ApiConnExt"><code>ApiConnExt</code></a> extension trait and <a href="struct.ApiHandler.html" title="struct trillium_api::ApiHandler"><code>ApiHandler</code></a> can be used
independently or in combination.</p>
<p><a href="struct.ApiHandler.html" title="struct trillium_api::ApiHandler"><code>ApiHandler</code></a> provides an easy way to deserialize a single type from
the request body. ApiHandler does not handle serializing responses, so
is best used in conjunction with the <a href="struct.Json.html" title="struct trillium_api::Json"><code>Json</code></a> handler that this crate
provides.</p>
<p>If <a href="struct.ApiHandler.html" title="struct trillium_api::ApiHandler"><code>ApiHandler</code></a> encounters an error of any sort before the
user-provided logic is executed, it will put an <a href="enum.Error.html" title="enum trillium_api::Error"><code>Error</code></a> into the
conn’s state. A default error handler is provided.</p>
</div></details><h2 id="macros" class="small-section-header"><a href="#macros">Macros</a></h2><ul class="item-table"><li><div class="item-name"><a class="macro" href="macro.json.html" title="macro trillium_api::json">json</a></div><div class="desc docblock-short">Construct a <code>serde_json::Value</code> from a JSON literal.</div></li></ul><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.ApiHandler.html" title="struct trillium_api::ApiHandler">ApiHandler</a></div><div class="desc docblock-short">This handler provides the capacity to extract various components
of a conn such as deserializing a body, and supports returning
handlers that will be called on the returned conn.</div></li><li><div class="item-name"><a class="struct" href="struct.Body.html" title="struct trillium_api::Body">Body</a></div><div class="desc docblock-short">Body extractor</div></li><li><div class="item-name"><a class="struct" href="struct.Halt.html" title="struct trillium_api::Halt">Halt</a></div><div class="desc docblock-short">a struct that halts the Conn handler sequence. see [<code>Conn::halt</code>]
for more.</div></li><li><div class="item-name"><a class="struct" href="struct.Json.html" title="struct trillium_api::Json">Json</a></div><div class="desc docblock-short">A newtype wrapper struct for any <a href="https://docs.rs/serde/1.0.189/serde/ser/trait.Serialize.html" title="trait serde::ser::Serialize"><code>serde::Serialize</code></a> type. Note
that this currently must own the serializable type.
Body extractor</div></li><li><div class="item-name"><a class="struct" href="struct.State.html" title="struct trillium_api::State">State</a></div><div class="desc docblock-short">State extractor</div></li></ul><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.Error.html" title="enum trillium_api::Error">Error</a></div><div class="desc docblock-short">A serde-serializable error</div></li><li><div class="item-name"><a class="enum" href="enum.Value.html" title="enum trillium_api::Value">Value</a></div><div class="desc docblock-short">Represents any valid JSON value.</div></li></ul><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.ApiConnExt.html" title="trait trillium_api::ApiConnExt">ApiConnExt</a></div><div class="desc docblock-short">Extension trait that adds api methods to [<code>trillium::Conn</code>]</div></li><li><div class="item-name"><a class="trait" href="trait.FromConn.html" title="trait trillium_api::FromConn">FromConn</a></div><div class="desc docblock-short">A trait to extract content from [<code>Conn</code>]s to be used as the second
argument to an api handler. Implement this for your types.</div></li></ul><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.api.html" title="fn trillium_api::api">api</a></div><div class="desc docblock-short">constructs a new [<code>ApiFromConnHandler</code>] from the provided
<code>async fn(&amp;mut conn, FromConn) -&gt; impl Handler</code></div></li></ul></section></div></main></body></html>